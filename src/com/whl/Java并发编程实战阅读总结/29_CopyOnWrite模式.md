28讲中，String在实现replace()方法时，并没有修改原字符数组，而是新建字符数组进行修改。这种CopyOnWrite方法在解决不可变对象的修改问题时经常用到，CopyOnWrite，顾名思义就是在写操作时通过复制完成。

CopyOnWriteArrayList、CopyOnWriteArraySet背后的思想也是CopyOnWrite，读不加锁、写采用复制，将读的性能发挥到了极致。

除了Java，CopyOnWrite在操作系统领域也被广泛应用。例如类Unix的操作系统中，创建一个进程的API是fork()，传统的fork()函数会创建父进程的一个完整副本。例如父进程的地址空间用到了1G的内存，fork()子进程的时候要复制整个父进程的地址空间给子进程，这个过程是非常耗时的。而Linux中的fork()函数在fork()子进程时，并不需要复制整个父进程的地址空间，而是让父子进程共享同一个地址空间；只有在父进程或者子进程需要写入时才复制地址空间，从而使得父子进程拥有各自的地址空间。